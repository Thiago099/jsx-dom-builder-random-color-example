(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const _ of r.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&t(_)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();class m{constructor(e){if(typeof e=="string")this.__element=document.createElement(e);else if(e instanceof HTMLElement)this.__element=e;else throw new Error("Invalid element name");this.__events=[],this.__children=[],this.__data=null,this.__unmounted_events=[],this.__mounted_events=[],this.__parent=null}$update(){for(const e of this.__events)e();for(const e of this.__children)e.$update()}$effect(e){return this.__data=e,setTimeout(()=>{this.__subscribe()},0),this}$if(e){return this.__handleEffect(this.__isReactive(e),()=>{const s=this.__handleFunction(e);this.set_single_style("display",s?"":"none")}),this}__observeParent(){setTimeout(()=>{for(const s of this.__mounted_events)s()},0),new MutationObserver(s=>{for(const t of s){if(t.type==="childList"&&t.removedNodes.length){for(const n of t.removedNodes)if(n===this.__element){this.__unsubscribe();for(const r of this.__unmounted_events)r()}}if(t.type==="childList"&&t.addedNodes.length){for(const n of t.addedNodes)if(n===this.__element){this.__subscribe();for(const r of this.__mounted_events)r()}}}}).observe(this.__element.parentElement,{childList:!0})}__subscribe(){this.__data&&this.__data.__subscribe(()=>this.$update())}__unsubscribe(){for(const e of this.__children)e.__unsubscribe();this.__data&&this.__data.__unsubscribe(()=>this.$update())}__handleFunction(e){return typeof e=="function"?e():e}__handleEffect(e,s){e?(s(),this.__events.push(s)):s()}__isReactive(...e){for(const s of e)if(typeof s=="function")return!0;return!1}$class(e,s=!0){if(this.__isReactive(e))var t=this.__handleFunction(e);return this.__handleEffect(this.__isReactive(e,s),()=>{const n=this.__handleFunction(e);n&&(this.__handleFunction(s)?(this.__isReactive(e)&&(t&&this.__element.classList.remove(...t.split(" ").filter(r=>r.length>0)),t=n),this.__element.classList.add(...n.split(" ").filter(r=>r.length>0))):(this.__element.classList.remove(...n.split(" ").filter(r=>r.length>0)),t=null))}),this}get parentElement(){return this.__parent}$parent(e){return this.__parent=e,e.__element!==void 0?(e.__element.appendChild(this.__element),e.__children.push(this)):e.appendChild(this.__element),this.__observeParent(),this}$parentBefore(e){return this.__parent=e,e.__element!==void 0?e.__element.firstChild?e.__element.insertBefore(this.__element,e.__element.firstChild):e.__element.appendChild(this.__element):e.firstChild?e.insertBefore(this.__element,e.firstChild):e.appendChild(this.__element),this.__observeParent(),this}$on(e,s){return this.__element.addEventListener(e,s),this}$mounted(e){this.__mounted_events.push(e)}$unmounted(e){this.__unmounted_events.push(e)}$property(e,s){return this.__handleEffect(this.__isReactive(e,s),()=>{this.__element[this.__handleFunction(e)]=this.__handleFunction(s)}),this}$style(e,s=null){return s?(this.__style(e,s),this):(this.__handleEffect(this.__isReactive(e),()=>{const t=this.__handleFunction(e).split(";").filter(n=>n.length>0);this.__element.style={};for(const n of t){const[r,_]=n.split(":");this.__element.style[r]=this.__handleFunction(_)}}),this)}__style(e,s){return this.__handleEffect(this.__isReactive(e,s),()=>{this.__element.style[this.__handleFunction(e)]=this.__handleFunction(s)}),this}$get_computed_style(e){return window.getComputedStyle(this.__element).getPropertyValue(e)}$html(e){return this.__handleEffect(this.__isReactive(e),()=>{this.__element.innerHTML=this.__handleFunction(e)}),this}$child(e){var s;this.__isReactive(e)?s=a("span").$parent(this):s=this;var t=null;return this.__handleEffect(this.__isReactive(e),()=>{var n=this.__handleFunction(e);t&&t();const r=i=>(i.__element!==void 0?i.$parent(s):(i instanceof HTMLElement||(i=document.createTextNode(i)),s.__element.appendChild(i)),()=>i.remove());if(Array.isArray(n)){var _=[];for(const i of n)_.push(r(i));t=()=>{for(const i of _)i()}}else t=r(n)}),this}$remove(){return this.__parent=null,this.__element.remove(),this}$model([e,s]){return this.$property("value",e),this.$on("input",t=>s(t.target.value)),this}}function a(l){function e(t,n){return typeof t[n]!="object"?t[n]:new Proxy(t[n],{set:(_,i,o)=>(s.__handleEffect(s.__isReactive(o),()=>{_[i]=s.__handleFunction(o)}),!0),get:(_,i)=>e(_,i)})}const s=new Proxy(new m(l),{get:(t,n)=>{if(n in t)return t[n];if(n in t.__element)return e(t.__element,n)},set:(t,n,r)=>(n in t?t[n]=r:n=="style"?t.$set_style(r):n in t.__element&&t.$property(n,r),!0)});return s}const p=(l,e,...s)=>{var t,n=!1;if(typeof l=="function"){if(t=l(e,...s),t===void 0)return s;n=!0}else t=a(l);const r={ref:i=>{i.__ref_object=t},style:i=>{if(typeof i=="object")for(const[o,h]of Object.entries(i))t.$style(o,h);else t.$style(i)},class:i=>{if(typeof i=="object")for(const[o,h]of Object.entries(i))t.$class(o,h);else t.$class(i)},effect:i=>{t.$effect(i)},parent:i=>{t.$parent(i)},if:i=>{t.$if(i)},model:([i,o])=>{t.$model([i,o])}},_={on:(i,o)=>{t.$on(i,o)}};if(e)for(const[i,o]of Object.entries(e)){const h=i.split(":");h.length==2?_[h[0]]&&_[h[0]](h[1],o):r[i]?r[i](o):n||t.$property(i,o)}if(s&&!n)for(const i of s)t.$child(i);return t};function c(){var l=Math.floor(Math.random()*16777215),e="#"+l.toString(16),s="#"+(16777215-l).toString(16);return[e,s]}const[y,v]=c();var d=y,u=v;c();const f=p("div",{class:"main-item",draggable:!0},"Click on me to change the color");f.$style("background-color",()=>u).$style("color",()=>d).$on("click",()=>{const[l,e]=c();d=l,u=e,f.$update()});f.$parent(document.body);
